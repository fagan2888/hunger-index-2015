function getColor(e){return"-"===e?"#222":"<5"===e?"#FD8D3C":e>30?"#800026":e>20?"#BD0026":e>10?"#E31A1C":e>5?"#FC4E2A":e>20?"#FEB24C":e>10?"#FED976":"#ccc"}!function(e,o,t,r){"use strict";function a(e){return{fillColor:getColor(e.properties.score),weight:e.properties.score?1:0,opacity:.3,color:"white",dashArray:"",fillOpacity:e.properties.score?.7:0}}function i(e){var o=e.target;o.setStyle({weight:5,color:"white",dashArray:"",fillOpacity:.7}),t.Browser.ie||t.Browser.opera||o.bringToFront()}function n(e){p.resetStyle(e.target)}function s(e,o){var t="<h3>"+e.properties.name+"</h3> <p>Score: <strong>"+e.properties.score+'</strong></p> <p><a href="/countries/'+e.id+'">Come visit!</p>';o.bindPopup(t,{autopan:!0}),o.on({mouseover:i,mouseout:n})}t.Icon.Default.imagePath="images/";var c=t.map("map",{center:[52.5377,13.3958],zoom:4});new t.tileLayer("http://a{s}.acetate.geoiq.com/tiles/acetate-base/{z}/{x}/{y}.png",{subdomains:"0123",minZoom:0,maxZoom:18}).addTo(c);var p;t.control();p=new t.GeoJSON.AJAX("data/mockdata.geo.json",{style:a,onEachFeature:s}),p.addTo(c)}(window,document,L);